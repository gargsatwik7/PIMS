{% extends "base_glass.html" %}
{% block title %}Edit Project Activity{% endblock %}

{% block content %}
<h2>Edit Project Activity</h2>

<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="project">Project</label>
        <select name="project" id="project" required>
            {% for p in projects %}
                <option value="{{ p.id }}" {% if p.id == activity.project.id %}selected{% endif %}>
                    {{ p.name }} ({{ p.client.Client_name }})
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="status">Status</label>
        <select name="status" id="status" required>
            {% for key,label in status_choices %}
                <option value="{{ key }}" {% if key == activity.status %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="activity_from">Activity From</label>
        <input type="date" name="activity_from" id="activity_from" value="{{ activity.activity_from|date:'Y-m-d' }}">
    </div>

    <div class="form-group">
        <label for="activity_to">Activity To</label>
        <input type="date" name="activity_to" id="activity_to" value="{{ activity.activity_to|date:'Y-m-d' }}">
    </div>

    <div class="form-group">
        <label for="remarks">Remarks</label>
        <textarea name="remarks" id="remarks">{{ activity.remarks }}</textarea>
    </div>

    <div class="actions">
        <button type="submit" class="btn btn-primary">ðŸ’¾ Save Changes</button>
        <a href="{% url 'dashboard' %}" class="btn btn-secondary">â¬… Back</a>
    </div>
</form>
{% endblock %}
